# user-onboarding
Remove-Item -Recurse -Force supabase\functions\user-onboarding
npx supabase@latest functions download user-onboarding --project-ref poxjcaogjupsplrcliau

# cache-invalidator
Remove-Item -Recurse -Force supabase\functions\cache-invalidator
npx supabase@latest functions download cache-invalidator --project-ref poxjcaogjupsplrcliau

# cart-manager
Remove-Item -Recurse -Force supabase\functions\cart-manager
npx supabase@latest functions download cart-manager --project-ref poxjcaogjupsplrcliau

# order-worker
Remove-Item -Recurse -Force supabase\functions\order-worker
npx supabase@latest functions download order-worker --project-ref poxjcaogjupsplrcliau

# create-order-intent
Remove-Item -Recurse -Force supabase\functions\create-order-intent
npx supabase@latest functions download create-order-intent --project-ref poxjcaogjupsplrcliau

# fulfill-order
Remove-Item -Recurse -Force supabase\functions\fulfill-order
npx supabase@latest functions download fulfill-order --project-ref poxjcaogjupsplrcliau

# review-manager
Remove-Item -Recurse -Force supabase\functions\review-manager
npx supabase@latest functions download review-manager --project-ref poxjcaogjupsplrcliau

# vote-manager
Remove-Item -Recurse -Force supabase\functions\vote-manager
npx supabase@latest functions download vote-manager --project-ref poxjcaogjupsplrcliau

# reply-manager
Remove-Item -Recurse -Force supabase\functions\reply-manager
npx supabase@latest functions download reply-manager --project-ref poxjcaogjupsplrcliau

# verify-payment
Remove-Item -Recurse -Force supabase\functions\verify-payment
npx supabase@latest functions download verify-payment --project-ref poxjcaogjupsplrcliau

# vendor-dashboard
Remove-Item -Recurse -Force supabase\functions\vendor-dashboard
npx supabase@latest functions download vendor-dashboard --project-ref poxjcaogjupsplrcliau

# admin-dashboard
Remove-Item -Recurse -Force supabase\functions\admin-dashboard
npx supabase@latest functions download admin-dashboard --project-ref poxjcaogjupsplrcliau

# metrics-worker
Remove-Item -Recurse -Force supabase\functions\metrics-worker
npx supabase@latest functions download metrics-worker --project-ref poxjcaogjupsplrcliau

# submit-vendor-application
Remove-Item -Recurse -Force supabase\functions\submit-vendor-application
npx supabase@latest functions download submit-vendor-application --project-ref poxjcaogjupsplrcliau

# get-curated-content
Remove-Item -Recurse -Force supabase\functions\get-curated-content
npx supabase@latest functions download get-curated-content --project-ref poxjcaogjupsplrcliau

# ratings-worker
Remove-Item -Recurse -Force supabase\functions\ratings-worker
npx supabase@latest functions download ratings-worker --project-ref poxjcaogjupsplrcliau




ALLOWED_ORIGINS=https://kb-stylish-website.vercel.app,https://kbstylish.com.np


supabase functions deploy order-worker --project-ref poxjcaogjupsplrcliau
supabase functions deploy fulfill-order --project-ref poxjcaogjupsplrcliau


-----

$functions = @(
  'user-onboarding',
  'cache-invalidator',
  'cart-manager',
  'order-worker',
  'create-order-intent',
  'fulfill-order',
  'review-manager',
  'vote-manager',
  'reply-manager',
  'verify-payment',
  'vendor-dashboard',
  'admin-dashboard',
  'metrics-worker',
  'submit-vendor-application',
  'get-curated-content',
  'ratings-worker'
)

foreach ($fn in $functions) {
  supabase functions deploy $fn 
}

---------------------------------------------------------

Before you pulled everything down and redeployed, I captured Supabaseâ€™s metadata. At that point the following functions had verify_jwt = false:

cart-manager
fulfill-order
review-manager
verify-payment
submit-vendor-application
get-curated-content
ratings-worker




-----

Website URL: https://kbstylish.com.np
Success URL:
https://kbstylish.com.np/payment/callback?provider=esewa&status=success
Failure URL:
https://kbstylish.com.np/payment/callback?provider=esewa&status=failure
Notification URL:
https://kbstylish.com.np/api/esewa/webhook



------------

NPX_MERCHANT_ID = 8574
NPX_API_USERNAME = kbstylishapi
NPX_API_PASSWORD = Kb$tylish123 (paste directly)
NPX_SECURITY_KEY =Tg9#xKp3!rZq7@Lm2S(paste directly)
NPX_TEST_MODE = true


---

# Correct format for Supabase secrets
KHALTI_SECRET_KEY=cd9fe961d4154de883f1f67847c3aa70